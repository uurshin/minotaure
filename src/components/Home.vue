<script>
import { usePlayerStore }  from '../main';
import logo from '../assets/images/minotaure_logo.svg'
import {useI18n} from "vue-i18n";

export default {
  setup() {
    const version = APP_VERSION;
    const { t } = useI18n() // call `useI18n`, and spread `t` from  `useI18n` returning
    return {
      version,
      t,
      store: usePlayerStore()
    }
  }
}
</script>

<template>
  <div id="home">
    <div class="menu">
      <div>
        <router-link to="/create">{{ t('Créer une partie') }}</router-link>
        <router-link to="/continue">{{ t('Gérer vos parties') }}</router-link>
      </div>
      <div class="logo-wrapper">
        <span>minotaure</span>
        <svg class="logo" aria-hidden="true" focusable="false" role="img" version="1.1" viewBox="0 0 1466.1 1466.1" xmlns="http://www.w3.org/2000/svg">
          <g transform="translate(-374.54 -11291)">
            <circle cx="1107.6" cy="12024" r="733.06" fill="#fff" stroke-dasharray="2.11592, 4.23184" stroke-opacity=".8" stroke-width="2.1159"/>
            <path d="m1107.6 12251c-43.501 0-78.764-35.263-78.764-78.764v-131.27c0-43.5 35.263-78.764 78.764-78.764 43.5 0 78.764 35.264 78.764 78.764v131.27c0 43.501-35.264 78.764-78.764 78.764z" fill="#cc4c4c" stroke-width=".82046"/>
            <path d="m859.96 11429c-1.917-0.03-4.4812 0.931-7.7422 3.436l-228.12 175.24c-10.946 8.41-5.8818 17.419-2.9355 25.414l68.51 185.91c8.4572 22.949 7.7487 16.721 24.025 5.336l164.21-114.85c17.14-11.989 19.057-13.846 0.15625-21.801l-120.51-50.721c-14.902-6.272-15.897-18.784-10.643-26.525l115.78-170.58c2.818-4.151 2.1616-10.775-2.7344-10.864zm495.28 0c-4.897 0.09-5.5514 6.713-2.7344 10.864l115.78 170.58c5.254 7.741 4.2604 20.253-10.643 26.525l-120.51 50.721c-18.9 7.955-16.985 9.812 0.1563 21.801l164.21 114.85c16.276 11.385 15.568 17.613 24.025-5.336l68.51-185.91c2.946-7.995 8.0095-17.004-2.9375-25.414l-228.12-175.24c-3.261-2.505-5.8262-3.471-7.7422-3.436zm-496.92 481.76c-48.07 0-87.04 38.971-87.039 87.041 0 48.07 38.97 87.039 87.039 87.039 48.07 0 87.039-38.969 87.039-87.039s-38.968-87.041-87.039-87.041zm498.55 0c-48.071 0-87.038 38.971-87.037 87.041 0 48.07 38.967 87.039 87.037 87.039 48.069 0 87.039-38.969 87.039-87.039s-38.969-87.041-87.039-87.041zm-380.55 209.33c-7.254 0-13.127 5.874-13.127 13.127v39.383c0 72.939 54.388 133.3 124.71 142.95v27.707h-45.945l16.408 39.381h98.455l16.41-39.381h-45.945v-28.019c72.225-9.96 124.71-75.524 124.71-149.07v-32.95c0-7.253-5.874-13.127-13.127-13.127h-13.127c-7.253 0-13.129 5.874-13.129 13.127v34.705c0 54.815-39.964 103.86-94.525 109.19-62.601 6.104-115.51-43.14-115.51-104.51v-39.383c0-7.253-5.875-13.127-13.127-13.127z" stroke-width=".82046"/>
            <path d="m1107.6 11664c-10.209 0-20.421 4.941-26.508 14.821l-131.35 231.4c21.692 22.698 35.018 53.459 35.018 87.334 0 2.935-0.10864 5.846-0.30664 8.731h22.613c11.92-44.366 52.413-77.026 100.54-77.026s88.622 32.66 100.54 77.026h22.611c-0.197-2.885-0.3047-5.796-0.3047-8.731 0-33.871 13.323-64.629 35.01-87.326l-131.36-231.4c-6.087-9.88-16.298-14.821-26.508-14.821zm-130.97 20.688c-2.556-0.01-5.2286 0.645-7.8516 2.144l-293.29 191.78c-4.8038 3.15-4.6471 10.229 0.25391 13.185l72.611 43.364c21.742-38.238 62.844-64.034 109.97-64.034 12.998 0 25.541 1.968 37.344 5.612l94.074-168.24c6.858-11.156-2.0363-23.762-13.113-23.81zm261.93 0c-11.077 0.05-19.972 12.654-13.115 23.81l94.078 168.24c11.807-3.646 24.35-5.616 37.352-5.616 47.127 0 88.225 25.787 109.97 64.018l72.607-43.367c4.92-2.956 5.056-10.037 0.252-13.188l-293.29-191.75c-2.621-1.499-5.2926-2.155-7.8496-2.144zm-589.96 264.27c-4.0452 0.02-7.752 3.255-7.752 7.792v316.63c0 7.838 10.288 10.755 14.41 4.065l115.9-188.34c-24.161-23.012-39.236-55.478-39.258-91.473l-79.264-47.552c-1.2982-0.778-2.6854-1.13-4.0332-1.123zm917.98 0c-1.349-0.01-2.7332 0.345-4.0312 1.123l-79.25 47.554c-0.02 36.001-15.105 68.473-39.275 91.485l115.9 188.34c4.103 6.69 14.41 3.773 14.41-4.084v-316.63c0-4.537-3.7089-7.771-7.7539-7.792zm-722.25 174.54c-15.576-0.08-31.399 11.196-47.389 34.812l-153.77 227.11c-5.99 9.724 0.19305 22.363 11.531 23.608l360.52 38.205c30.463 3.228 39.479-4.075 22.57-33.662l-138.29-241.98c-17.936-31.384-36.372-48.001-55.17-48.091zm526.52 0c-18.798 0.09-37.236 16.707-55.172 48.091l-138.29 241.98c-16.909 29.587-7.8927 36.89 22.57 33.662l360.52-38.205c11.338-1.245 17.521-13.884 11.531-23.608l-153.77-227.11c-15.99-23.616-31.813-34.887-47.389-34.812zm-691.04 349.54c-8.0636-0.186-11.075 11.046-3.4824 14.777l378.06 170.48c10.307 4.766 22.074-2.782 22.074-14.119v-127.71l-395.86-43.368c-0.2707-0.03-0.53512-0.05-0.79492-0.06zm855.54 0c-0.261 0.01-0.5269 0.02-0.7969 0.06l-395.86 43.35v127.72c0 11.357 11.763 18.884 22.07 14.119l378.06-170.48c7.591-3.711 4.5816-14.943-3.4824-14.758z" fill="#a33737" stroke-width="1.9448"/>
          </g>
        </svg>
      </div>
      <div>
        <router-link to="/join">{{ t('Rejoindre une partie') }}</router-link>
        <router-link to="/characters">{{ t('Gérer vos personnages') }}</router-link>
      </div>
    </div>
    <div class="small-wrapper infos">
      <span>Version : {{ version }}</span>
      <a href="https://github.com/fibreville/minotaure">{{ t('En savoir plus') }}</a>
    </div>
  </div>
  <router-view></router-view>
</template>

<style lang="scss">
  .small-wrapper {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .infos {
    align-items: center;
  }

  ul {
    padding: 0;
    li {
      list-style: none;
    }
  }
  #home {
    display: flex;
    flex: 1;
    flex-direction: column;
    gap: 30px;
    justify-content: center;

    > .menu {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;

      @include media("<tablet") {
        display: flex;
        flex-direction: column;
        gap: 20px
      }

      > div {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 20px;

        &.logo-wrapper {
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          gap: 15px;

          @include media("<tablet") {
            order: -1;
          }

          > span {
            font-size: 1.5em;
          }

          > .logo {
            max-width: 100px;
            margin-bottom: 30px;
          }
        }
      }

      a {
        background: var(--button-background);
        color: var(--button-color);
        border-radius: 10px;
        padding: 10px;

        &:hover {
          outline: 1px solid #646cff;
        }
        &:focus,
        &:focus-visible {
          outline: 4px auto -webkit-focus-ring-color;
        }
      }
    }
  }
</style>
